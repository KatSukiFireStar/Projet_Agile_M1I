<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Guillaume Hostache, Flavien Gonin">
        <meta name="description" content="M1 Informatique - Conception agile de projets informatiques">

        <script type="text/javascript" src="utils.js"></script>
        <script type="text/javascript" src="main.js"></script>
        <script src="https://kit.fontawesome.com/cb25104232.js" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="./style-index.css">
        <link rel="icon" type="image/x-icon" href="./ressources/favicon.ico">

        <title>Planning Poker - Accueil</title>
    </head>

    <body>
        <h1>Planning Poker</h1>
        
        <div class="naviguation-barre">
            <button class="naviguation-info" onclick="afficherRegles()"><i class="fa-solid fa-circle-info"></i></button>
            <button class="naviguation-bouton" onclick="afficherMenu(0)">Lancer une nouvelle partie</button>
            <button class="naviguation-bouton" onclick="afficherMenu(1)">Reprendre une partie</button>
        </div>

        <div class="menu" id="0">
            <h4>"Rien de mieux qu'une bonne partie pour se mettre d'accord ..."</h4>
            
            <div class="selection-mode">
                <h4>Sélectionner le mode de jeu :</h4>
                <input type="radio" name="mode" id="r1" value="strict" onclick="afficherReglesMode(0)" checked><label for="r1">Strict</label>
                <input type="radio" name="mode" id="r2" value="moyenne" onclick="afficherReglesMode(1)"><label for="r2">Moyenne</label>
            </div>

            <p id="regleStrict">Il faut que tous les joueurs soient d'accord sur la même difficulté, sinon, on relance un tour.</p>
            <p id="regleMoyenne">Le premier tour de chaque tâche est en mode 'strict'. Si aucun accord n'a été
                trouvé au premier tour. On continue en mode 'Moyenne'. Dans ce cas, la difficulté attribuée sera
                la moyenne des cartes que tous les joueurs auront posées (Ont exclu la carte '?' et la carte 'café').</p>
            
            <div class="selection-nb-joueurs">
                <h4>Sélectionner le nombre de joueurs :</h4>
                <input type="radio" name="nbJoueurs" id="j2" value="2" checked onclick="afficherJoueur(this.value)"><label for="j2">2</label>
                <input type="radio" name="nbJoueurs" id="j3" value="3" onclick="afficherJoueur(this.value)"><label for="j3">3</label>
                <input type="radio" name="nbJoueurs" id="j4" value="4" onclick="afficherJoueur(this.value)"><label for="j4">4</label>
            </div>

            <!-- Contiendra les saisies de texte pour les noms des joueurs -->
            <div id="selection-nom-joueurs"></div>
            
            <br>

            <div class="selection-fichier">
                <h4>Sélectionner votre backlog :</h4>
                <input type="file" id="jsonFileLancer" accept=".json"> <br>
            </div>
        
            <button class="validerBouton" onclick="validerFormulaire(0)">Lancer la partie</button>
        </div>

        <div class="menu" id="1">
            <h4>"Le café était très bon, il est temps de reprendre la partie !"</h4>
            
            <div class="selection-fichier">
                <h4>Sélectionner votre sauvegarde de backlog :</h4>
                <input type="file" id="jsonFileReprendre" accept=".json"> <br>
            </div>

            <button class="validerBouton" onclick="validerFormulaire(1)">Lancer la partie</button>
        </div>
        
        <div id="regles-overlay" onclick="masquerRegles()">
            <div id="regles-contenu">
                <h2>Informations </h2>
                <p>Comment jouer ?</p>
                <p>Deux options sont possibles, commencer une nouvelle partie, avec un nouveau backlog ou reprendre une
                    partie que vous avez déjà commencée auparavant, avec un fichier de sauvegarde de partie que vous
                    avez. Dans les deux cas, le fichier doit être au format .json. Une fois toutes les informations
                    correctement saisies, vous pouvez lancer le jeu.</p>

                <p>Règle du jeu :</p>
                <p>Le but du jeu est de parvenir à trouver un accord pour attribuer une difficulté aux différentes tâches
                de votre backlog. Pour chaque tâche, chaque joueur va choisir une carte correspondant à la difficulté qu'il pense.
                Une fois que chaque joueur aura posé sa carte, il y aura un temps de débat. Si en fonction du mode de jeu,
                un accord est trouvé, la difficulté est validé pour la tâche et on passe à la tâche suivante. Sinon, on relance un tour jusqu'à
                un accord commun.</p>
                <p>Si tous les joueurs ont posé la carte café, alors la partie est arrêté et une sauvegarde est faite.</p>

                <p>Mode de jeu :</p>
                <ul>Mode 'Strict' : Il faut que tous les joueurs soient d'accord sur la même difficulté, sinon, on relance un tour.</ul>
                <ul>Mode 'Moyenne' : Le premier tour de chaque tâche est en mode 'strict'. Si aucun accord n'a été
                    trouvé au premier tour. On continue en mode 'Moyenne'. Dans ce cas, la difficulté attribuée sera
                    la moyenne des cartes que tous les joueurs auront posées (Ont exclu la carte '?' et la carte 'café').</ul>
            </div>
        </div>
    </body>
</html>