<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Guillaume Hostache, Flavien Gonin">
        <meta name="description" content="M1 Informatique - Conception agile de projets informatiques">
      
        <script src="https://kit.fontawesome.com/cb25104232.js" crossorigin="anonymous"></script>
        <script type="text/javascript" src="./utilitaire.js"></script>
        <script type="text/javascript" src="main.js"></script>

        <link rel="stylesheet" href="./style-index.css">
        <link rel="icon" type="image/x-icon" href="./ressources/favicon.ico">

        <title>Planning Poker</title>
    </head>

    <body>
        <h1>Planning Poker</h1>
        
        <div class="naviguation-barre">
            <button class="naviguation-info" onclick="afficherRegles()"><i class="fa-solid fa-circle-info"></i></button>
            <button class="naviguation-bouton" onclick="afficherMenu(0)">Lancer une nouvelle partie</button>
            <button class="naviguation-bouton" onclick="afficherMenu(1)">Reprendre une partie</button>
        </div>

        <div class="menu" id="0">
            <h4>"Rien de mieux qu'une bonne partie pour se mettre d'accord ..."</h4>
            
            <div class="selection-mode">
                <h4>Sélectionner le mode de jeu :</h4>
                <input type="radio" name="mode" id="r1" value=Modes.Strict onclick="afficherRegleMode(0)" checked><label for="r1">Strict</label>
                <input type="radio" name="mode" id="r2" value=Modes.Moyenne onclick="afficherRegleMode(1)"><label for="r2">Moyenne</label>
            </div>
            <!-- Hey ! Il n'y avait pas besoin de faire des div ! -->
            <p id="regleStrict">Tant que tous les joueurs ne sont pas en accord, le tour recommence</p>
            <p id="regleMoyenne">Lors du premier tour tous les joueurs doivent être en accord. Si aucun compromis n'a été
                                        trouver au premier tour, un deuxième tour a lieu. Si le deuxième tour ne mène toujours pas à un accord,
                                        alors une moyenne des sommes est établie et la prochaine tâche commence.</p>
            
            <div class="selection-nb-joueurs">
                <h4>Sélectionner le nombre de joueurs :</h4>
                <input type="radio" name="nbJoueurs" id="j2" value="2" checked onclick="afficherJoueur(this.value)"><label for="j2">2</label>
                <input type="radio" name="nbJoueurs" id="j3" value="3" onclick="afficherJoueur(this.value)"><label for="j3">3</label>
                <input type="radio" name="nbJoueurs" id="j4" value="4" onclick="afficherJoueur(this.value)"><label for="j4">4</label>
            </div>

            <div id="selection-nom-joueurs"></div>
            
            <br>

            <div class="selection-fichier">
                <h4>Sélectionner votre backlog :</h4>
                <input type="file" id="jsonFileLancer" accept=".json"> <br>
            </div>
        
            <button class="validerBouton" onclick="validerFormulaire(0)">Lancer la partie</button>
        </div>

        <div class="menu" id="1">
            <h4>"Le café était très bon, il est temps de reprendre la partie !"</h4>
            
            <div class="selection-fichier">
                <h4>Sélectionner votre sauvegarde de backlog :</h4>
                <input type="file" id="jsonFileReprendre" accept=".json"> <br>
            </div>

            <button class="validerBouton" onclick="validerFormulaire(1)">Lancer la partie</button>
        </div>
        
        <div id="regles-overlay" onclick="masquerRegles()">
            <div id="regles-contenu">
                <h2>Règles du jeu : </h2>
                <p>Comment lancer une partie ? </p>
                <p>Vous devez d'abord remplir les informations demandées, à savoir le nombre de joueurs, le nom de chaque joueur,
                    le mode de jeu ainsi ensuite qu'un fichier au format.json qui contiendra les informations de votre projet</p>

                <p>Principe du jeu :</p>
                <p>Une fois la partie lancée, vous allez voir apparaitre chaque tache de votre liste. 
                    Tour à tour, les joueurs vont pouvoir choisir une carte qui représente la difficulté de la tâche selon eux. 
                    Une fois que tous les joueurs auront mis une carte. Les cartes seront retournées et le système assignera
                    une difficulté en fonction du mode de jeu qui aura été choisi au préalable. Si aucun accord n'a été trouvée,
                    la tâche ne change pas et les règles du mode s'applique.</p>
                <p>Règles des modes :</p>
                <ul>Strict : Tant que tous les joueurs ne sont pas en accord, le tour recommence</ul>
                <ul>Moyenne : Lors du premier tour tous les joueurs doivent être en accord. Si aucun compromis n'a été
                    trouver au premier tour, un deuxième tour a lieu. Si le deuxième tour ne mène toujours pas à un accord,
                    alors une moyenne des sommes est établie et la prochaine tâche commence.</ul>
            </div>
        </div>
    </body>
</html>